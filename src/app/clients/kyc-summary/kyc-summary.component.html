<mat-card class="kyc-summary-card">
  <mat-card-header>
    <mat-card-title>KYC Summary</mat-card-title>
    <div class="actions">
      <button mat-raised-button color="primary" (click)="print()">Print</button>
    </div>
  </mat-card-header>
  <mat-card-content>
    <div class="section">
      <h3>Customer Information</h3>
      <mat-divider></mat-divider>
      <div class="grid">
        <div class="label">Full Name</div>
        <div class="value">{{ kyc.personal.fullName }}</div>
        <div class="label">Date of Birth</div>
        <div class="value">{{ kyc.personal.dateOfBirth | dateFormat }}</div>
        <div class="label">Gender</div>
        <div class="value">{{ kyc.personal.gender || 'Not provided' }}</div>
        <div class="label">Account Tier</div>
        <div class="value">{{ kyc.account?.accountTier || 'Not provided' }}</div>
      </div>
    </div>

    <div class="section">
      <h3>Contact Details</h3>
      <mat-divider></mat-divider>
      <div class="grid">
        <div class="label">Mobile No</div>
        <div class="value">{{ kyc.contact.mobile || 'Not provided' }}</div>
        <div class="label">Email</div>
        <div class="value">{{ kyc.contact.email || 'Not provided' }}</div>
      </div>
    </div>

    <div class="section" *ngIf="kyc.employment?.employerName">
      <h3>Employment Details</h3>
      <mat-divider></mat-divider>
      <div class="grid">
        <div class="label">Employer Name</div>
        <div class="value">{{ kyc.employment?.employerName || 'Not provided' }}</div>
      </div>
    </div>

    <div class="section" *ngIf="(kyc.addresses?.length || 0) > 0">
      <h3>Addresses</h3>
      <mat-divider></mat-divider>
      <div class="address-list">
        <div class="address-card" *ngFor="let address of kyc.addresses">
          <div class="address-type">{{ address.type }}</div>
          <div class="address-lines">
            <div *ngIf="address.addressLine1">{{ address.addressLine1 }}</div>
            <div *ngIf="address.addressLine2">{{ address.addressLine2 }}</div>
            <div *ngIf="address.addressLine3">{{ address.addressLine3 }}</div>
            <div *ngIf="address.city || address.state">
              {{ address.city }}<span *ngIf="address.city && address.state">, </span>{{ address.state }}
            </div>
            <div *ngIf="address.country">{{ address.country }}</div>
            <div *ngIf="address.postalCode">{{ address.postalCode }}</div>
          </div>
          <div class="address-summary" *ngIf="address.fullAddress">
            {{ address.fullAddress }}
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Identity Information</h3>
      <mat-divider></mat-divider>
      <div class="grid">
        <div class="label">BVN</div>
        <div class="value">{{ kyc.identity.bvn || 'Not provided' }}</div>
        <div class="label">Means of Identity</div>
        <div class="value">{{ kyc.identity.meansOfIdentity || 'Not provided' }}</div>
        <div class="label">Identity Card No</div>
        <div class="value">{{ kyc.identity.idNumber || 'Not provided' }}</div>
        <div class="label">Issue Date</div>
        <div class="value">{{ kyc.identity.issueDate | dateFormat }}</div>
        <div class="label">Expiry Date</div>
        <div class="value">{{ kyc.identity.expiryDate | dateFormat }}</div>
      </div>
    </div>

    <div class="section" *ngIf="(kyc.identityRecords?.length || 0) > 0">
      <h3>Additional Identity Records</h3>
      <mat-divider></mat-divider>
      <div class="identity-record" *ngFor="let record of kyc.identityRecords">
        <div class="record-header">{{ record.type }}</div>
        <div class="grid no-type">
          <div class="label">ID Number</div>
          <div class="value">{{ record.number || 'Not provided' }}</div>
          <div class="label">Issue Date</div>
          <div class="value">{{ record.issueDate | dateFormat }}</div>
          <div class="label">Expiry Date</div>
          <div class="value">{{ record.expiryDate | dateFormat }}</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h3>Next of Kin</h3>
      <mat-divider></mat-divider>
      <mifosx-family-members-list [members]="nextOfKinMembers()" />
    </div>

    <div class="section">
      <h3>File Uploaded</h3>
      <mat-divider></mat-divider>
      <div class="grid">
        <div class="label" *ngFor="let doc of kyc.documents">{{ doc.category }}</div>
        <div class="value" *ngFor="let doc of kyc.documents">{{ doc.name }} - {{ doc.uploaded ? 'Yes' : 'No' }}</div>
      </div>
    </div>
  </mat-card-content>
</mat-card>
